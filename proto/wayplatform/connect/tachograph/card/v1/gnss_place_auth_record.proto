edition = "2023";

package wayplatform.connect.tachograph.card.v1;

import "wayplatform/connect/tachograph/datadictionary/v1/position_authentication_status.proto";
import "google/protobuf/timestamp.proto";

// Represents an authenticated GNSS position record.
//
// See Data Dictionary, Section 2.79c, `GNSSPlaceAuthRecord`.
//
// ASN.1 Definition:
//
//     GNSSPlaceAuthRecord ::= SEQUENCE {
//         timeStamp TimeReal,
//         gnssAccuracy GNSSAccuracy,
//         geoCoordinates GeoCoordinates,
//         posAuthStatus PositionAuthenticationStatus
//     }
//
// Note: The Data Dictionary at 2.79c appears to have a typo, listing `longitude`
// and `latitude` as separate fields of type `GeoCoordinates`. The definition
// above, taken from the original proto file, is assumed to be correct.
message GnssPlaceAuthRecord {
  // The timestamp of the position record.
  //
  // See Data Dictionary, Section 2.162, `TimeReal`.
  // ASN.1 Definition:
  //
  //     TimeReal ::= INTEGER (0..2^32-1)
  google.protobuf.Timestamp timestamp = 1;

  // The accuracy of the GNSS position.
  //
  // See Data Dictionary, Section 2.77, `GNSSAccuracy`.
  // ASN.1 Definition:
  //
  //     GNSSAccuracy ::= OCTET STRING(SIZE(1))
  int32 gnss_accuracy = 2;

  // The geographic coordinates of the position, corresponding to the `geoCoordinates` field.
  //
  // See Data Dictionary, Section 2.76, `GeoCoordinates`.
  // ASN.1 Definition:
  //
  //     GeoCoordinates ::= SEQUENCE {
  //         latitude INTEGER(-90*3600*1000..90*3600*1000),
  //         longitude INTEGER(-180*3600*1000+1..180*3600*1000)
  //     }
  sint32 longitude = 3;
  sint32 latitude = 4;

  // The authentication status of the position.
  //
  // See Data Dictionary, Section 2.117a, `PositionAuthenticationStatus`.
  // ASN.1 Definition:
  //
  //     PositionAuthenticationStatus ::= INTEGER {
  //         notAvailable(0),
  //         authenticated(1),
  //         notAuthenticated(2),
  //         authenticationCorrupted(3)
  //     } (0..255)
  wayplatform.connect.tachograph.datadictionary.v1.PositionAuthenticationStatus authentication_status = 5;
}
