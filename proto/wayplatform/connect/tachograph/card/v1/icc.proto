edition = "2023";

package wayplatform.connect.tachograph.card.v1;

import "wayplatform/connect/tachograph/dd/v1/clock_stop_mode.proto";
import "wayplatform/connect/tachograph/dd/v1/extended_serial_number.proto";
import "wayplatform/connect/tachograph/dd/v1/ia5_string_value.proto";

// Represents the content of the EF_ICC file, which contains identification data
// for the Integrated Circuit Card.
//
// The file structure is specified in Appendix 2, Section 4.1.
//
//     EF ICC
//     └─CardIccIdentification
//
// The data type `CardIccIdentification` is specified in the Data Dictionary, Section 2.23.
//
// ASN.1 Definition:
//
//     CardIccIdentification ::= SEQUENCE {
//         clockStop OCTET STRING (SIZE(1)),
//         cardExtendedSerialNumber ExtendedSerialNumber,
//         cardApprovalNumber CardApprovalNumber,
//         cardPersonaliserID ManufacturerCode,
//         embedderIcAssemblerId EmbedderIcAssemblerId,
//         icIdentifier OCTET STRING (SIZE(2))
//     }
message Icc {
  // Represents information about the IC embedder.
  //
  // The data type `EmbedderIcAssemblerId` is specified in the Data Dictionary, Section 2.65.
  //
  // ASN.1 Definition:
  //
  //     EmbedderIcAssemblerId ::= SEQUENCE {
  //         countryCode IA5String(SIZE(2)),
  //         moduleEmbedder IA5String(SIZE(2)),
  //         manufacturerInformation INTEGER(0..255)
  //     }
  message EmbedderIcAssemblerId {
    // 2-letter country code of the module embedder.
    //
    // See Data Dictionary, Section 2.65, `countryCode`.
    // ASN.1 Definition:
    //
    //     IA5String(SIZE(2))
    wayplatform.connect.tachograph.dd.v1.Ia5StringValue country_code = 1;

    // 2-character code identifying the module embedder.
    //
    // See Data Dictionary, Section 2.65, `moduleEmbedder`.
    // ASN.1 Definition:
    //
    //     IA5String(SIZE(2))
    wayplatform.connect.tachograph.dd.v1.Ia5StringValue module_embedder = 2;

    // Manufacturer-specific information.
    //
    // See Data Dictionary, Section 2.65, `manufacturerInformation`.
    // ASN.1 Definition:
    //
    //     INTEGER(0..255)
    int32 manufacturer_information = 3;
  }

  // The Clockstop mode.
  //
  // See Data Dictionary, Section 2.23, `clockStop`.
  // ASN.1 Definition:
  //
  //     OCTET STRING (SIZE(1))
  wayplatform.connect.tachograph.dd.v1.ClockStopMode clock_stop = 1;

  // The unique serial number of the IC card.
  //
  // See Data Dictionary, Section 2.72, `ExtendedSerialNumber`.
  dd.v1.ExtendedSerialNumber card_extended_serial_number = 2;

  // The type approval number of the card.
  //
  // See Data Dictionary, Section 2.11, `CardApprovalNumber`.
  // ASN.1 Definition:
  //
  //     CardApprovalNumber ::= IA5String (SIZE (8))
  wayplatform.connect.tachograph.dd.v1.Ia5StringValue card_approval_number = 3;

  // The ID of the card personaliser.
  //
  // See Data Dictionary, Section 2.94, `ManufacturerCode`.
  // ASN.1 Definition:
  //
  //     ManufacturerCode ::= INTEGER(0..255)
  int32 card_personaliser_id = 4;

  // Information about the IC embedder and assembler.
  //
  // See Data Dictionary, Section 2.65, `EmbedderIcAssemblerId`.
  EmbedderIcAssemblerId embedder_ic_assembler_id = 5;

  // The Identifier of the IC on the card and its manufacturer.
  //
  // See Data Dictionary, Section 2.23, `icIdentifier`.
  // ASN.1 Definition:
  //
  //     OCTET STRING (SIZE(2))
  bytes ic_identifier = 6;
}
