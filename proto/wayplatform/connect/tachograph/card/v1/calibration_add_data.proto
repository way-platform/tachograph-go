edition = "2023";

package wayplatform.connect.tachograph.card.v1;

import "google/protobuf/timestamp.proto";

// Represents the content of the EF_Calibration_Add_Data file (Gen2v2).
//
// The file structure is specified in Appendix 2, Section 4.3.2.
//
//     EF Calibration_Add_Data
//     └─WorkshopCardCalibrationAddData
//
// The data type `WorkshopCardCalibrationAddData` is specified in the Data Dictionary, Section 2.234b.
//
// ASN.1 Specification:
//
//     WorkshopCardCalibrationAddData ::= SEQUENCE {
//         calibrationPointerNewestRecord INTEGER(0..NoOfCalibrationRecords-1),
//         workshopCardCalibrationAddDataRecords SET SIZE(NoOfCalibrationRecords) OF WorkshopCardCalibrationAddDataRecord
//     }
message CalibrationAddData {
  // Represents a single additional data record for a calibration.
  //
  // The data type `WorkshopCardCalibrationAddDataRecord` is specified in the Data Dictionary, Section 2.234c.
  //
  // ASN.1 Specification:
  //
  //     WorkshopCardCalibrationAddDataRecord ::= SEQUENCE {
  //         oldTimeValue TimeReal,
  //         vehicleIdentificationNumber VehicleIdentificationNumber,
  //         byDefaultLoadType LoadType,
  //         calibrationCountry NationNumeric,
  //         calibrationCountryTimestamp TimeReal
  //     }
  message Record {
    // ASN.1 Type: TimeReal (see DD 2.162)
    //
    //     TimeReal ::= INTEGER (0..2^32-1)
    google.protobuf.Timestamp old_time = 1;

    // ASN.1 Type: VehicleIdentificationNumber (see DD 2.164)
    //
    //     VehicleIdentificationNumber ::= IA5String(SIZE(17))
    string vehicle_identification_number = 2;

    // ASN.1 Type: LoadType (see DD 2.90a)
    //
    //     LoadType ::= INTEGER {
    //         not-defined(0), passengers(1), goods(2)
    //     } (0..255)
    int32 by_default_load_type = 3;

    // ASN.1 Type: NationNumeric (see DD 2.101)
    //
    //     NationNumeric ::= INTEGER(0..255)
    int32 calibration_country = 4;

    // ASN.1 Type: TimeReal (see DD 2.162)
    //
    //     TimeReal ::= INTEGER (0..2^32-1)
    google.protobuf.Timestamp calibration_country_timestamp = 5;
  }

  // Index of the last updated record.
  int32 newest_record_index = 1;

  // The set of additional calibration data records.
  repeated Record records = 2;
}